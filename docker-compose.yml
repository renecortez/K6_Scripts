services:
  k6-1:
    image: grafana/k6:latest
    container_name: k6-1
    working_dir: /scripts
    volumes:
      - ./scripts:/scripts:ro
      - "C:/Users/Rene_Cortez/Documents/K6/reports:/reports"
    environment:
      BASE_URL: "http://host.docker.internal:3333"
      K6_WEB_DASHBOARD: "true"
      K6_WEB_DASHBOARD_OPEN: "false"
      K6_WEB_DASHBOARD_EXPORT: "/reports/k6-1.html"
    command: ["run", "/scripts/QuickPizza1.js", "--execution-segment-sequence", "0,1/3,2/3,1", "--execution-segment", "0:1/3"]

  k6-2:
    image: grafana/k6:latest
    container_name: k6-2
    working_dir: /scripts
    volumes:
      - ./scripts:/scripts:ro
      - "C:/Users/Rene_Cortez/Documents/K6/reports:/reports"
    environment:
      BASE_URL: "http://host.docker.internal:3333"
      K6_WEB_DASHBOARD: "true"
      K6_WEB_DASHBOARD_OPEN: "false"
      K6_WEB_DASHBOARD_EXPORT: "/reports/k6-2.html"
    command: ["run", "/scripts/QuickPizza1.js", "--execution-segment-sequence", "0,1/3,2/3,1", "--execution-segment", "1/3:2/3"]

  k6-3:
    image: grafana/k6:latest
    container_name: k6-3
    working_dir: /scripts
    volumes:
      - ./scripts:/scripts:ro
      - "C:/Users/Rene_Cortez/Documents/K6/reports:/reports"
    environment:
      BASE_URL: "http://host.docker.internal:3333"
      K6_WEB_DASHBOARD: "true"
      K6_WEB_DASHBOARD_OPEN: "false"
      K6_WEB_DASHBOARD_EXPORT: "/reports/k6-3.html"
    command: ["run", "/scripts/QuickPizza1.js", "--execution-segment-sequence", "0,1/3,2/3,1", "--execution-segment", "2/3:1"]
